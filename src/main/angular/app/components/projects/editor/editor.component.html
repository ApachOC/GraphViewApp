<editor-viewport-d3 [nodes]="nodes" [edges]="edges" [id]="editorId.toString()" [mapping]="mapping"
                        (addNode)="addNode($event)" (removeNode)="removeNode($event)"
                        (addEdge)="addEdge($event)" (selectNodes)="onSelection($event)" #viewport></editor-viewport-d3>
    <div class="graph-editor-toolbars toolbar-left">
        <div class="btn-group-vertical">
                    <button class="btn btn-outline-primary" [class.active]="viewport.tool == 'SELECT'"
                            (click)="viewport.tool = 'SELECT'" ngbTooltip="Select and manipulate nodes">
                        <i class="fa fa-lg fa-hand-pointer"></i>
                    </button>
                    <button class="btn btn-outline-primary" [class.active]="viewport.tool == 'ADD'"
                            (click)="viewport.tool = 'ADD'" ngbTooltip="Create nodes & edges">
                        <i class="fa fa-lg fa-project-diagram"></i>
                        <i class="fa fa-plus" style="position:absolute;top:17px;right:10px;font-size:0.5em"></i>
                    </button>
                    <button class="btn btn-outline-primary" [class.active]="viewport.tool == 'REMOVE'"
                            (click)="viewport.tool = 'REMOVE'" ngbTooltip="Remove nodes & edges">
                        <i class="fa fa-lg fa-project-diagram"></i>
                        <i class="fa fa-minus" style="position:absolute;top:17px;right:10px;font-size:0.5em"></i>
                    </button>
                </div>
                <div class="btn-group-vertical">
                    <button class="btn btn-outline-secondary" ngbTooltip="Run library function"
                            (click)="runLibrary()">
                        <i class="fa fa-lg fa-bolt"></i>
                    </button>
                </div>
                <div class="btn-group-vertical">
                    <!--
                    <button class="btn btn-outline-success" ngbTooltip="Fit to screen">
                        <i class="fa fa-lg fa-compress"></i>
                    </button>
                    <button class="btn btn-outline-success" ngbTooltip="Find specific node">
                        <i class="fa fa-lg fa-search"></i>
                    </button>
                    -->
                    <button class="btn btn-outline-success" ngbTooltip="Recalculate layout"
                            (click)="viewport.sim.restart()">
                        <i class="fa fa-lg fa-sync-alt"></i>
                    </button>
                </div>
            </div>
<div class="graph-editor-toolbars toolbar-right">
    <button class="btn btn-outline-primary" (click)="details.toggle()"
            placement="left" ngbTooltip="Show/hide selection properties">
        <i class="fa fa-lg" [class.fa-arrow-alt-circle-left]="!details.expanded"
           [class.fa-arrow-alt-circle-right]="details.expanded"></i>
    </button>
    <button class="btn btn-outline-primary" (click)="settings.toggle()"
            placement="left" ngbTooltip="Show/hide editor settings">
        <i class="fa fa-lg" [class.fa-arrow-alt-circle-up]="!settings.expanded"
           [class.fa-arrow-alt-circle-down]="settings.expanded"></i>
    </button>
</div>
<graph-editor-details #details [selectedNodes]="selectedNodes" [project]="project"
                      (selectedResult)="settings.selectProperty($event)" [class.expanded]="details.expanded"
                      [class.overflow-hidden]="details.hidden"></graph-editor-details>
<graph-editor-settings #settings [mapping]="mapping" (change)="refreshNodes()" [class.expanded]="settings.expanded"
                       [class.overflow-hidden]="settings.hidden" [project]="project"></graph-editor-settings>
